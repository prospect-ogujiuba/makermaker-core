-- Description: {{description}}
-- >>> Up >>>
CREATE TABLE IF NOT EXISTS `{!!prefix!!}{{table_name}}` (
  `id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(64) NOT NULL,
  `description` VARCHAR(255) DEFAULT NULL,
  `created_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `deleted_at` DATETIME DEFAULT NULL,
  `created_by` BIGINT UNSIGNED NOT NULL,
  `updated_by` BIGINT UNSIGNED NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_{{table_name}}_title` (`title`),
  KEY `idx_{{table_name}}_created_at` (`created_at`),
  KEY `idx_{{table_name}}_updated_at` (`updated_at`),
  KEY `idx_{{table_name}}_deleted_at` (`deleted_at`),
  KEY `idx_{{table_name}}_created_by` (`created_by`),
  KEY `idx_{{table_name}}_updated_by` (`updated_by`),
  CONSTRAINT `fk_{{table_name}}_created_by` FOREIGN KEY (`created_by`) REFERENCES `{!!prefix!!}users` (`ID`) ON UPDATE CASCADE ON DELETE RESTRICT,
  CONSTRAINT `fk_{{table_name}}_updated_by` FOREIGN KEY (`updated_by`) REFERENCES `{!!prefix!!}users` (`ID`) ON UPDATE CASCADE ON DELETE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='{{comment}}';

-- >>> Down >>>
DROP TABLE IF EXISTS `{!!prefix!!}{{table_name}}`;